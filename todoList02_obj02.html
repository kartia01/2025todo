<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.8/css/bootstrap.min.css"
        integrity="sha512-2bBQCjcnw658Lho4nlXJcc6WkV/UxpE/sAokbXPxQNGqmNdQrWqtw26Ns9kFF/yG792pKR1Sx8/Y1Lf1XN4GKA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
        integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <div class="container py-3">
        <h3 class="text-center">오늘의 할일 list</h3>
        <div class="row">
            <div class="col-md-6 offset-md-3 d-flex">
                <input type="text" placeholder="입력하세요" value="" class="inp form-control me-2" />
                <button class="btn btn-primary inpBtn" style="width:100px">입력</button>
                <button class="btn btn-danger inMoBtn" style="width:100px">수정</button>
            </div>
        </div>
        <div class="row px-3">
            <div class="col-md-6 offset-md-3">
                <ul class="viewList">
                    <li class="d-flex justify-content-between py-3">
                        <div>자바</div>
                        <div class="d-flex gap-3">
                            <i class="fa-solid fa-square-check"></i>
                            <i class="fa-solid fa-pen"></i>
                            <i class="fa-solid fa-trash"></i>
                        </div>
                    </li>
                    <li class="d-flex justify-content-between py-3">
                        <div>자바</div>
                        <div class="d-flex gap-3">
                            <i class="fa-solid fa-square-check"></i>
                            <i class="fa-solid fa-pen"></i>
                            <i class="fa-solid fa-trash"></i>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="row py-3">
        <div class="col-md-6 offset-md-3">
            <div class="btn btn-warning d-block delAll">전체삭제</div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.8/js/bootstrap.bundle.min.js"
        integrity="sha512-HvOjJrdwNpDbkGJIG2ZNqDlVqMo77qbs4Me4cah0HoDrfhrbA+8SBlZn1KrvAQw7cILLPFJvdwIgphzQmMm+Pw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
        // let listView = [
        //     {
        //         todo: "자바",
        //         done: false,
        //     },
        //     {
        //         todo: "자바스크립트",
        //         done: false,
        //     },
        //     {
        //         todo: "도커",
        //         done: true,
        //     },
        //     {
        //         todo: "mysql",
        //         done: true,
        //     },
        // ];
        let listView = [];

        const viewDataElem = document.querySelector(".viewList");
        const inpElem = document.querySelector(".inp");
        const inpBtnElem = document.querySelector(".inpBtn");

        inpBtnElem.addEventListener("click",function(){
            if(inpElem.value != ''){     //만약 inpElem의 value값이 비어있지 않다면,
                let value = {todo:inpElem.value, done:false};
                // 변수 value <= listView의 todo에 inpElem.value를 done에는 false를 사용
                listView.push(value); // 변수 value는 그대로 listView에 넘어간다.
                inpElem.value= '';  // 넘어간 후 value 값은 다시 비어진다.
                viewData(); // viwData에 적용이 된다.
            } else {
                alert('오늘의 할 일을 입력하세요'); // 만약 inpElem의 value값이 비어있다면, 알림창이 뜬다
            }
        })

        function viewData(){
            let viewData = '';
            listVeiw.forEach(function(item, i){
                viewData += `
                <li class="d-flex justify-content-between py-3">
                        <div>${item.todo}</div>
                        <div class="d-flex gap-3">`;

                        if(item.done == true){
                            viewData +=`
                            <i class="fa-solid fa-square-check" onclick="done(${i})"></i>`;
                        }else{
                            viewData += `
                            <i class="fa-solid fa-square" onclick="done(${i})"></i>`;
                        }

                        viewData +=`
                            <i class="fa-solid fa-pen"></i>
                            <i class="fa-solid fa-trash" onclick="del(${i})"></i>
                        </div>
                    </li>`;
            });
            viewDataElem.innerHTML = viewData;
        }
        viewData();

        function del(index){
            alert(index);
        }

        function yesDone(index){
            console.log(index);
            listView[index].done = true;
            viewData();
        }

        function noDone(index){
            listView[index].done = false;
            viewData();
        }

        function done(index){
            listView[index].done = !listView[index].done;
            viewData();
        }
    </script>
</body>
</html>